function(add_problem id)
  foreach(lang ${ARGN})
    if(${lang} STREQUAL c)
      add_library(solution-${id}-c c/solution.c)
      add_library(solution-${id}-cpp-c c/interface.cpp)
      target_link_libraries(solution-${id}-cpp-c PRIVATE solution-${id}-c)
      list(APPEND solutions solution-${id}-cpp-c)
    elseif(${lang} STREQUAL cpp)
      add_library(solution-${id}-cpp cpp/interface.cpp)
      set_property(TARGET solution-${id}-cpp PROPERTY CXX_STANDARD 20)
      list(APPEND solutions solution-${id}-cpp)
    else()
      message(FATAL_ERROR "Unknown language: ${lang}")
    endif()
  endforeach()

  add_executable(test-${id} test.cpp)
  set_property(TARGET test-${id} PROPERTY CXX_STANDARD 20)
  target_link_libraries(test-${id} PRIVATE Catch2::Catch2WithMain ${solutions})

  catch_discover_tests(test-${id})
endfunction()

add_subdirectory(0001)
add_subdirectory(0004)
add_subdirectory(0005)
add_subdirectory(0008)
add_subdirectory(0009)
add_subdirectory(0011)
add_subdirectory(0026)
add_subdirectory(0027)
add_subdirectory(0028)
add_subdirectory(0035)
add_subdirectory(0058)
add_subdirectory(0316)
add_subdirectory(0387)
add_subdirectory(0389)
add_subdirectory(0392)
add_subdirectory(1048)
add_subdirectory(1081)
add_subdirectory(1232)
add_subdirectory(1337)
add_subdirectory(1658)
add_subdirectory(2235)
